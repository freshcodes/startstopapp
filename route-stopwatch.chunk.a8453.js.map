{"version":3,"sources":["webpack:///./components/nav.js","webpack:///./components/lap.js","webpack:///./lib/is_speech_recognition_supported.js","webpack:///./routes/stopwatch.js","webpack:///./components/start_button.js","webpack:///./components/stop_button.js","webpack:///./components/lap_button.js","webpack:///./components/mic_button.js","webpack:///./components/reset_button.js","webpack:///./components/controls.js","webpack:///./components/clock.js","webpack:///./components/laps.js","webpack:///./lib/format_milliseconds.js","webpack:///../node_modules/preact-router/match.js"],"names":["activeClassName","href","lap","milliseconds","time","formatMilliseconds","aria-label","datetime","isSpeechRecognitionSupported","window","VoiceInstructions","class","onclick","type","id","xmlns","viewBox","d","width","height","rx","ry","commandVariants","start","go","begin","loop","next","stop","end","reset","clear","iconEnable","iconDisable","color","overflow","MicButton","Component","state","enabled","toggle","this","disable","enable","onspeechstart","voiceStartTime","Date","now","console","debug","setTimeout","restartListening","onresult","event","latest","results","length","command","transcript","toLowerCase","trim","knownCommand","log","confidence","props","onstart","onend","listening","startListening","componentDidMount","setupRecognition","setState","recognition","SpeechRecognition","webkitSpeechRecognition","continuous","lang","interimResults","maxAlternatives","e","message","render","_","label","voiceSupported","connect","actions","running","currentTime","aria-live","role","name","for","laps","lapElements","map","index","key","aria-relevant","Stopwatch","hundreths","Math","floor","seconds","minutes","hours","_possibleConstructorReturn","self","call","ReferenceError","Object","defineProperty","exports","value","Link","Match","undefined","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","_preact","require","_preactRouter","_Component","_temp","_this","_len","args","Array","_key","apply","concat","update","url","nextUrl","subClass","superClass","TypeError","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","subscribers","push","componentWillUnmount","splice","indexOf","getCurrentUrl","path","replace","children","matches","exec","_ref","obj","keys","_objectWithoutProperties","h","_ref2","className","filter","Boolean","join","default"],"mappings":"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","file":"route-stopwatch.chunk.a8453.js","sourcesContent":["import { h } from 'preact'\nimport { Link } from 'preact-router/match'\n\nexport default function () {\n  return (\n    <nav>\n      <Link activeClassName='active' href='/'>Stopwatch</Link>\n      <Link activeClassName='active' href='/history'>History</Link>\n      <Link activeClassName='active' href='/about'>About</Link>\n    </nav>\n  )\n}\n","import { h } from 'preact'\n\nimport formatMilliseconds from '../lib/format_milliseconds'\n\nexport default function ({ lap, milliseconds }) {\n  const time = formatMilliseconds(milliseconds)\n\n  return (\n    <li>\n      <time aria-label={`lap ${lap}`} datetime={time}>{time}</time>\n    </li>\n  )\n}\n","export default function isSpeechRecognitionSupported () {\n  return typeof window !== 'undefined' && ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window)\n}\n","import { h, Component } from 'preact'\n\nimport isSpeechRecognitionSupported from '../lib/is_speech_recognition_supported'\n\nimport Nav from '../components/nav'\nimport Controls from '../components/controls'\nimport Clock from '../components/clock'\nimport Laps from '../components/laps'\n\nfunction VoiceInstructions () {\n  if (!isSpeechRecognitionSupported()) return\n\n  return (\n    <section class='note'>\n      <p>\n        Your browser supports voice recognition. This is expiremental and might be a bit wonky. To enable, use the microphone icon.\n      </p>\n      <p>\n        Once enabled you can use commands like: <strong>\"start\", \"loop\", \"stop\", \"reset\"</strong>.\n      </p>\n      <p>\n        There are alternates like <strong>\"go\", \"begin\", \"lap\", \"next\", \"end\", and \"clear\"</strong>.\n      </p>\n    </section>\n  )\n}\n\nexport default class Stopwatch extends Component {\n  render () {\n    return (\n      <div>\n        <Controls />\n        <Clock />\n        <Laps />\n        <VoiceInstructions />\n        <Nav />\n      </div>\n    )\n  }\n}\n","import { h } from 'preact'\n\nexport default function ({ onclick }) {\n  return (\n    <button type='button' aria-label='start' onclick={onclick} id='start'>\n      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 37.95 39.6'><path d='M36.74 17.77L3.32.26A2.27 2.27 0 000 2.27v35a2.27 2.27 0 003.32 2l33.42-17.48a2.27 2.27 0 000-4.02z' /></svg>\n    </button>\n  )\n}\n","import { h } from 'preact'\n\nexport default function ({ onclick }) {\n  return (\n    <button type='button' aria-label='stop' onclick={onclick} id='stop'>\n      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 42.52 42.52'><rect width='42.52' height='42.52' rx='2.27' ry='2.27' /></svg>\n    </button>\n  )\n}\n","import { h } from 'preact'\n\nexport default function ({ onclick }) {\n  return (\n    <button type='button' aria-label='lap' onclick={onclick}>\n      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 78.94 62.8'><path d='M65.37 9.78H60.3v9h5.07a4.58 4.58 0 014.57 4.57V49a4.58 4.58 0 01-4.57 4.57h-51.8A4.58 4.58 0 019 49V23.35a4.58 4.58 0 014.57-4.57h19.58v5.28a4.52 4.52 0 00.09.88c0 .13.08.26.11.39a4.42 4.42 0 00.14.45 4.44 4.44 0 00.23.44c.06.11.11.23.18.33a4.52 4.52 0 001.25 1.25c.11.07.22.12.34.18a2.65 2.65 0 00.89.37c.13 0 .25.09.39.11a4.41 4.41 0 001.76 0c.13 0 .26-.08.39-.11a2.64 2.64 0 00.88-.35c.11-.06.23-.11.34-.18a4.51 4.51 0 00.69-.57l9.77-9.77a4.5 4.5 0 000-6.36l-9.77-9.8a4.51 4.51 0 00-.69-.56C40 .68 39.91.63 39.8.57a4.42 4.42 0 00-.43-.23 4.45 4.45 0 00-.46-.14c-.13 0-.25-.09-.38-.11a4.52 4.52 0 00-1.76 0c-.13 0-.25.08-.38.11a4.45 4.45 0 00-.46.14 4.42 4.42 0 00-.43.23c-.11.06-.23.11-.34.19A4.52 4.52 0 0033.9 2c-.07.11-.12.22-.18.33a4.43 4.43 0 00-.23.44 4.42 4.42 0 00-.14.45c0 .13-.09.25-.11.39a4.52 4.52 0 00-.09.88v5.29H13.57A13.59 13.59 0 000 23.35V49a13.59 13.59 0 0013.57 13.57h51.8A13.59 13.59 0 0078.94 49V23.35A13.59 13.59 0 0065.37 9.78z' /></svg>\n    </button>\n  )\n}\n","import { h, Component } from 'preact'\n\nconst commandVariants = {\n  start: 'start',\n  go: 'start',\n  begin: 'start',\n\n  lap: 'lap',\n  loop: 'lap',\n  next: 'lap',\n\n  stop: 'stop',\n  end: 'stop',\n\n  reset: 'reset',\n  clear: 'reset'\n}\n\nconst iconEnable = (<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path d='M50 66.161c8.532 0 15.449-6.917 15.449-15.449V15.699C65.449 7.167 58.532.25 50 .25S34.551 7.167 34.551 15.699v35.013c0 8.532 6.917 15.449 15.449 15.449z' /><path d='M73.055 37.881a3.169 3.169 0 00-3.17 3.168v9.663c0 10.964-8.92 19.885-19.885 19.885-10.966 0-19.886-8.921-19.886-19.885v-9.663a3.168 3.168 0 10-6.337 0v9.663c0 14.459 11.764 26.223 26.223 26.223s26.223-11.764 26.223-26.223v-9.663a3.168 3.168 0 00-3.168-3.168zM63.07 93.412h-9.902V79.26c-1.041.126-2.094.21-3.168.21-1.075 0-2.128-.084-3.169-.21v14.152H36.93a3.168 3.168 0 00-3.168 3.169v3.169h32.477v-3.169a3.17 3.17 0 00-3.169-3.169z' /></svg>)\nconst iconDisable = (<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12.7 12.7'><path d='M6.35.529a5.824 5.824 0 00-5.82 5.82 5.826 5.826 0 005.82 5.822c3.211 0 5.82-2.61 5.82-5.822A5.824 5.824 0 006.35.529zm0 .529a5.289 5.289 0 013.92 8.84L8.51 8.135c.309-.439.486-.967.486-1.521v-.793c0-.353-.53-.353-.53 0v.793c0 .412-.122.805-.337 1.14l-.385-.385c.123-.229.193-.487.193-.755v-2.91a1.588 1.588 0 10-3.176 0v.683l-1.959-1.96a5.266 5.266 0 013.547-1.37zM2.427 2.803l2.333 2.333v1.479A1.59 1.59 0 007.145 7.99c.098-.057.187-.127.269-.201l.375.374c-.116.107-.241.205-.38.286a2.117 2.117 0 01-3.177-1.834v-.793a.265.265 0 00-.267-.27.265.265 0 00-.26.27v.793c0 .944.504 1.818 1.323 2.29.33.191.69.301 1.058.338v.811H4.47c-.353.018-.326.548.027.53H8.2c.353 0 .353-.53 0-.53H6.615v-.811a2.638 2.638 0 001.059-.337c.18-.104.341-.23.488-.37l1.735 1.735a5.288 5.288 0 01-7.468-7.468z' color='#000' overflow='visible' /></svg>)\n\nexport default class MicButton extends Component {\n  componentDidMount () {\n    if (typeof window !== 'undefined') this.setupRecognition()\n  }\n\n  state = {\n    enabled: false\n  }\n\n  toggle = () => (this.state.enabled ? this.disable() : this.enable())\n\n  enable () {\n    this.setState({ enabled: true })\n    this.listening = true // need immediate internal state\n    this.startListening()\n  }\n\n  disable () {\n    this.setState({ enabled: false })\n    this.listening = false // need immediate internal state\n    this.recognition.stop()\n  }\n\n  setupRecognition () {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\n\n    // grammars do not seem to be well supported at the moment\n    // const grammar = new SpeechGrammarList()\n    // const commandGrammars = [\n    //   'public <start> = start | go | begin',\n    //   'public <lap> = lap | next',\n    //   'pubilc <stop> = stop | end',\n    //   'public <reset> = reset | clear'\n    // ]\n    // grammar.addFromString(`#JSGF V1.0; grammar commands; ${commandGrammars.join('; ')}`)\n\n    const recognition = new SpeechRecognition()\n    // recognition.grammars = grammar\n    recognition.continuous = true\n    recognition.lang = 'en-US'\n    recognition.interimResults = false\n    recognition.maxAlternatives = 1\n\n    recognition.onstart = () => { console.debug('started listening') }\n    recognition.onspeechstart = this.onspeechstart\n    recognition.onresult = this.onresult\n    // recognition.onnomatch = this.onnomatch\n    recognition.onend = this.onend\n\n    this.recognition = recognition\n  }\n\n  onspeechstart = () => {\n    // Logging the time we detect speech because\n    // there is a significant delay to when\n    // we have a final result\n    this.voiceStartTime = Date.now()\n    console.debug('speechstart', this.voiceStartTime)\n\n    // Since we're relying on this speechstart\n    // event in this way, we stop/start again\n    // setTimeout(() => {\n    //   this.recognition.stop()\n    // }, 1000)\n    setTimeout(() => {\n      console.debug('Attempting to restart listening after 1 second')\n      this.restartListening()\n    }, 1000)\n  }\n\n  onresult = (event) => {\n    // Grab the last result\n    const latest = event.results[event.results.length - 1][0]\n    const command = latest.transcript.toLowerCase().trim()\n    const knownCommand = commandVariants[command]\n\n    console.log('Command ' + command)\n    console.log('Confidence: ' + latest.confidence)\n    console.log('Known Command ' + knownCommand)\n\n    if (knownCommand) {\n      this.props[knownCommand](this.voiceStartTime)\n      this.restartListening()\n    }\n  }\n\n  // onnomatch = (event) => {\n  //   console.log('nomatch', event)\n  // }\n\n  restartListening () {\n    if (!this.listening) return\n    console.debug('attempting to stop recognition in order to restart it')\n    try {\n      this.recognition.stop()\n    } catch (e) {\n      console.debug('failed to stop recognition', e.message)\n    }\n    this.startListening()\n  }\n\n  startListening () {\n    if (!this.listening) return\n    console.debug('attempting to start recognition')\n    try {\n      this.recognition.start()\n    } catch (e) {\n      console.debug('failed to start recognition', e.message)\n      this.recognition.stop()\n    }\n  }\n\n  onstart = () => {\n    console.debug('start')\n  }\n\n  onend = () => {\n    console.debug('done listening')\n    if (this.listening) this.startListening()\n  }\n\n  render (_, { enabled }) {\n    const label = `${enabled ? 'Dis' : 'En'}able voice commands`\n    return (\n      <button type='button' aria-label={label} onclick={this.toggle}>\n        {enabled ? iconDisable : iconEnable}\n      </button>\n    )\n  }\n}\n","import { h } from 'preact'\n\nexport default function ({ onclick }) {\n  return (\n    <button type='button' aria-label='reset' onclick={onclick} id='reset'>\n      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><switch><g><path d='M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z' /><path d='M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM86.1 2.5H13.9C7.6 2.5 2.5 7.6 2.5 13.9V86c0 6.3 5.1 11.4 11.4 11.4H86c6.3 0 11.4-5.1 11.4-11.4V13.9c.1-6.3-5-11.4-11.3-11.4zM69.6 61.3c2.3 2.3 2.3 6 0 8.3-1.1 1.1-2.6 1.7-4.1 1.7s-3-.6-4.1-1.7L50 58.3 38.7 69.6c-1.1 1.1-2.6 1.7-4.1 1.7-1.5 0-3-.6-4.1-1.7-2.3-2.3-2.3-6 0-8.3L41.7 50 30.4 38.7c-2.3-2.3-2.3-6 0-8.3s6-2.3 8.3 0L50 41.7l11.3-11.3c2.3-2.3 6-2.3 8.3 0s2.3 6 0 8.3L58.3 50l11.3 11.3z' /></g></switch></svg>\n    </button>\n  )\n}\n","import { h, Component } from 'preact'\nimport { connect } from 'unistore/preact'\n\nimport { actions } from '../store'\n\nimport StartButton from './start_button'\nimport StopButton from './stop_button'\nimport LapButton from './lap_button'\nimport MicButton from './mic_button'\nimport ResetButton from './reset_button'\n\nimport isSpeechRecognitionSupported from '../lib/is_speech_recognition_supported'\n\nconst voiceSupported = isSpeechRecognitionSupported()\n\nexport class Controls extends Component {\n  // Ignoring the event that ultimately gets passed in from the click\n  start = (_) => (this.props.start())\n  stop = (_) => (this.props.stop())\n  lap = (_) => (this.props.lap())\n  reset = (_) => (this.props.reset())\n\n  render ({ running, start, stop, lap, reset }) {\n    return (\n      <menu>\n        <li>{running ? <StopButton onclick={this.stop} /> : <StartButton onclick={this.start} />}</li>\n        <li><LapButton onclick={this.lap} /></li>\n        <li><ResetButton onclick={this.reset} /></li>\n        {voiceSupported ? <li><MicButton start={start} stop={stop} lap={lap} reset={reset} /></li> : ''}\n      </menu>\n    )\n  }\n}\n\nexport default connect('running', actions)(Controls)\n","import { h } from 'preact'\nimport { connect } from 'unistore/preact'\n\nimport formatMilliseconds from '../lib/format_milliseconds'\n\nconst Clock = ({ currentTime }) => {\n  return (\n    <output aria-live='polite' role='timer' id='time' name='time' for='start stop reset'>{formatMilliseconds(currentTime)}</output>\n  )\n}\n\nexport default connect('currentTime')(Clock)\n","import { h } from 'preact'\nimport { connect } from 'unistore/preact'\n\nimport Lap from './lap'\n\nexport function Laps ({ laps }) {\n  const lapElements = laps.map((lap, index) => (<Lap key={lap} lap={(index + 1)} milliseconds={lap} />))\n  return (\n    <ol class='laps' aria-live='polite' role='log' aria-relevant='additions'>\n      {lapElements}\n    </ol>\n  )\n}\n\nexport default connect('laps')(Laps)\n","export default function formatMilliseconds (milliseconds) {\n  let hundreths = Math.floor(((milliseconds / 1000) % 1) * 100)\n  let seconds = Math.floor((milliseconds / 1000) % 60)\n  let minutes = Math.floor((milliseconds / 1000 / 60) % 60)\n  let hours = Math.floor((milliseconds / 1000 / 3600) % 24)\n\n  hours = `${(hours < 10) ? '0' : ''}${hours}`\n  minutes = `${(minutes < 10) ? '0' : ''}${minutes}`\n  seconds = `${(seconds < 10) ? '0' : ''}${seconds}`\n  hundreths = `${(hundreths < 10) ? '0' : ''}${hundreths}`\n\n  return `${hours}:${minutes}:${seconds}.${hundreths}`\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: (0, _preactRouter.exec)(path, props.path, {}) !== false\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n"],"sourceRoot":""}